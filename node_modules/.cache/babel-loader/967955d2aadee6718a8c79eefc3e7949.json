{"ast":null,"code":"import _slicedToArray from\"/home/fahim/Documents/BDSOFTIT/Onucrom/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Formik}from\"formik\";import*as Yup from\"yup\";import ClipLoader from\"react-spinners/ClipLoader\";import{useHistory}from\"react-router-dom\";import{firebase}from\"../../firebase\";import{confirmAlert}from\"react-confirm-alert\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validationSchema=Yup.object().shape({firstName:Yup.string().required(\"First Name is Required\"),lastName:Yup.string().required(\"Last Name is Required\"),email:Yup.string().email().required(\"Email is required\"),phone:Yup.number(),password:Yup.string().required(\"Password is required\").min(6,\"Password is too short - should be 6 chars minimum\")});var Signup=function Signup(){var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isloading=_useState2[0],setisloading=_useState2[1];var dbCon=firebase.database();var CreateUserHandler=function CreateUserHandler(firstName,lastName,email,phone,password){setisloading(true);var months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var signUpDate=new Date();var subscriptionDate=months[signUpDate.getMonth()+6]+\" \"+signUpDate.getFullYear();var modifiedDate=signUpDate.getDate()+\"/\"+(signUpDate.getMonth()+1)+\"/\"+signUpDate.getFullYear();var memberID=firstName.substring(0,1).toUpperCase()+lastName.substring(0,1).toUpperCase()+signUpDate.getFullYear().toString().substr(-2)+lastName.substr(-2).toUpperCase()+(Math.floor(Math.random()*100)+1);firebase.auth().createUserWithEmailAndPassword(email,password).then(function(credential){dbCon.ref(\"Users\").child(credential.user.uid).set({firstName:firstName,lastName:lastName,email:email,phone:phone,level:\"Free\",altPhone:\"\",altEmail:\"\",dob:\"\",gender:\"\",mStatus:\"\",address:\"\",about:\"\",memberID:memberID,accountCreated:modifiedDate,subscriptionDate:subscriptionDate},function(error){if(error){console.log(error);}else{dbCon.ref(\"Professional\").child(credential.user.uid).set({pClass:\"\",exp:[{org:\"\",country:\"\",industry:\"\",role:\"\",from:\"\",to:\"\"}],membership:[{name:\"\",position:\"\",from:\"\"}],awards:[{name:\"\",time:\"\",bywhom:\"\"}]});dbCon.ref(\"Academic\").child(credential.user.uid).set({highestDegree:\"\",major:\"\",academicInfo:[{institute:\"\",country:\"\",degree:\"\",session:\"\"}],membership:[{name:\"\",position:\"\"}],awards:[{name:\"\",time:\"\",bywhom:\"\"}]},function(error){if(error){console.log(error);}else{setisloading(false);confirmAlert({title:\"Account Created!\",buttons:[{label:\"Go to Dashboard\",onClick:function onClick(){history.replace(\"/dashboard\");}}]});}});}});}).catch(function(error){confirmAlert({title:\"Error!\",message:error.message,buttons:[{label:\"Back\"}]});});/* firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((credential) => {\n        firebase\n          .database()\n          .ref(\"Users/\" + credential.user.uid)\n          .push()\n          .set(\n            {\n              firstName,\n              lastName,\n              email,\n              phone,\n            },\n            (error) => {\n              if (error) {\n                console.log(error);\n              } else {\n                confirmAlert({\n                  title: \"Account Created!\",\n\n                  buttons: [\n                    {\n                      label: \"Login Now\",\n                      onClick: () => {\n                        history.replace(\"/login\");\n                      },\n                    },\n                  ],\n                });\n              }\n            }\n          );\n      })\n      .catch((err) => {\n        confirmAlert({\n          title: \"Error!\",\n          message: err.message,\n          buttons: [\n            {\n              label: \"Back\",\n            },\n          ],\n        });\n      }); */};if(isloading){return/*#__PURE__*/_jsx(\"div\",{className:\"fp-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fp-loader\",children:[/*#__PURE__*/_jsx(ClipLoader,{size:100}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"600\",fontSize:\"18px\"},children:\"Almost There...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"inner-page-banner-section gradient-bg\",style:{paddingTop:\"150px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"illustration-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/elements/home4-banner-shape.png\",alt:\"image-illustration\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content bdr-radius\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signin-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signin-wrapper-header text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/elements/logo-icon.png\",alt:\"image\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"Join Now\"})]}),/*#__PURE__*/_jsx(Formik,{initialValues:{firstName:\"\",lastName:\"\",email:\"\",phone:\"\",password:\"\"},validate:function validate(values){var errors={};if(!values.email){errors.email=\"Email Address Required\";}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email=\"Invalid email address\";}else if(!values.firstName){errors.firstName=\"First Name is Required\";}else if(!values.lastName){errors.lastName=\"Last Name is Required\";}else if(!values.password){errors.password=\"Password is Required\";}return errors;},onSubmit:function onSubmit(values,actions){CreateUserHandler(values.firstName,values.lastName,values.email.toLowerCase(),values.phone,values.password);actions.resetForm();},validationSchema:validationSchema,children:function children(_ref){var handleChange=_ref.handleChange,handleSubmit=_ref.handleSubmit,values=_ref.values,errors=_ref.errors,touched=_ref.touched,isSubmitting=_ref.isSubmitting,handleBlur=_ref.handleBlur;return/*#__PURE__*/_jsxs(\"form\",{className:\"signin-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"firstName\",children:\"First Name*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-control\",placeholder:\"First Name\",onBlur:handleBlur,value:values.firstName,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:\"12px\",fontWeight:\"bold\"},children:errors.firstName&&touched.firstName&&errors.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-control\",placeholder:\"Last Name\",onBlur:handleBlur,value:values.lastName,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:\"12px\",fontWeight:\"bold\"},children:errors.lastName&&touched.lastName&&errors.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"signinEmail\",children:\"Email*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:\"Email\",onBlur:handleBlur,value:values.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:\"12px\",fontWeight:\"bold\"},children:errors.email&&touched.email&&errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"Phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-control\",placeholder:\"Phone Number (Optional)\",value:values.phone,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"signinPass\",children:\"Password*\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Password\",onBlur:handleBlur,value:values.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:\"12px\",fontWeight:\"bold\"},children:errors.password&&touched.password&&errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-hover\",disabled:isSubmitting,children:\"Sign Up\"})]});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"signin-wrapper-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"bottom-text\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login Now\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"or Use\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"social-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-google\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-linkedin\"})})})]})]})]})})})]})});};export default Signup;","map":{"version":3,"sources":["/home/fahim/Documents/BDSOFTIT/Onucrom/src/pages/authentication/Signup.js"],"names":["React","useState","Formik","Yup","ClipLoader","useHistory","firebase","confirmAlert","validationSchema","object","shape","firstName","string","required","lastName","email","phone","number","password","min","Signup","history","isloading","setisloading","dbCon","database","CreateUserHandler","months","signUpDate","Date","subscriptionDate","getMonth","getFullYear","modifiedDate","getDate","memberID","substring","toUpperCase","toString","substr","Math","floor","random","auth","createUserWithEmailAndPassword","then","credential","ref","child","user","uid","set","level","altPhone","altEmail","dob","gender","mStatus","address","about","accountCreated","error","console","log","pClass","exp","org","country","industry","role","from","to","membership","name","position","awards","time","bywhom","highestDegree","major","academicInfo","institute","degree","session","title","buttons","label","onClick","replace","catch","message","fontWeight","fontSize","paddingTop","values","errors","test","actions","toLowerCase","resetForm","handleChange","handleSubmit","touched","isSubmitting","handleBlur","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { firebase } from \"../../firebase\";\n\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nconst validationSchema = Yup.object().shape({\n  firstName: Yup.string().required(\"First Name is Required\"),\n  lastName: Yup.string().required(\"Last Name is Required\"),\n  email: Yup.string().email().required(\"Email is required\"),\n  phone: Yup.number(),\n  password: Yup.string()\n    .required(\"Password is required\")\n    .min(6, \"Password is too short - should be 6 chars minimum\"),\n});\n\nconst Signup = () => {\n  const history = useHistory();\n  const [isloading, setisloading] = useState(false);\n\n  const dbCon = firebase.database();\n  const CreateUserHandler = (firstName, lastName, email, phone, password) => {\n    setisloading(true);\n    const months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n    var signUpDate = new Date();\n    var subscriptionDate =\n      months[signUpDate.getMonth() + 6] + \" \" + signUpDate.getFullYear();\n    var modifiedDate =\n      signUpDate.getDate() +\n      \"/\" +\n      (signUpDate.getMonth() + 1) +\n      \"/\" +\n      signUpDate.getFullYear();\n\n    const memberID =\n      firstName.substring(0, 1).toUpperCase() +\n      lastName.substring(0, 1).toUpperCase() +\n      signUpDate.getFullYear().toString().substr(-2) +\n      lastName.substr(-2).toUpperCase() +\n      (Math.floor(Math.random() * 100) + 1);\n\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((credential) => {\n        dbCon\n          .ref(\"Users\")\n          .child(credential.user.uid)\n          .set(\n            {\n              firstName,\n              lastName,\n              email,\n              phone,\n              level: \"Free\",\n              altPhone: \"\",\n              altEmail: \"\",\n              dob: \"\",\n              gender: \"\",\n              mStatus: \"\",\n              address: \"\",\n              about: \"\",\n              memberID: memberID,\n              accountCreated: modifiedDate,\n              subscriptionDate: subscriptionDate,\n            },\n            (error) => {\n              if (error) {\n                console.log(error);\n              } else {\n                dbCon\n                  .ref(\"Professional\")\n                  .child(credential.user.uid)\n                  .set({\n                    pClass: \"\",\n                    exp: [\n                      {\n                        org: \"\",\n                        country: \"\",\n                        industry: \"\",\n                        role: \"\",\n                        from: \"\",\n                        to: \"\",\n                      },\n                    ],\n                    membership: [{ name: \"\", position: \"\", from: \"\" }],\n                    awards: [{ name: \"\", time: \"\", bywhom: \"\" }],\n                  });\n\n                dbCon\n                  .ref(\"Academic\")\n                  .child(credential.user.uid)\n                  .set(\n                    {\n                      highestDegree: \"\",\n                      major: \"\",\n\n                      academicInfo: [\n                        {\n                          institute: \"\",\n                          country: \"\",\n                          degree: \"\",\n                          session: \"\",\n                        },\n                      ],\n                      membership: [{ name: \"\", position: \"\" }],\n                      awards: [{ name: \"\", time: \"\", bywhom: \"\" }],\n                    },\n                    (error) => {\n                      if (error) {\n                        console.log(error);\n                      } else {\n                        setisloading(false);\n                        confirmAlert({\n                          title: \"Account Created!\",\n\n                          buttons: [\n                            {\n                              label: \"Go to Dashboard\",\n                              onClick: () => {\n                                history.replace(\"/dashboard\");\n                              },\n                            },\n                          ],\n                        });\n                      }\n                    }\n                  );\n              }\n            }\n          );\n      })\n      .catch((error) => {\n        confirmAlert({\n          title: \"Error!\",\n          message: error.message,\n          buttons: [\n            {\n              label: \"Back\",\n            },\n          ],\n        });\n      });\n    /* firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((credential) => {\n        firebase\n          .database()\n          .ref(\"Users/\" + credential.user.uid)\n          .push()\n          .set(\n            {\n              firstName,\n              lastName,\n              email,\n              phone,\n            },\n            (error) => {\n              if (error) {\n                console.log(error);\n              } else {\n                confirmAlert({\n                  title: \"Account Created!\",\n\n                  buttons: [\n                    {\n                      label: \"Login Now\",\n                      onClick: () => {\n                        history.replace(\"/login\");\n                      },\n                    },\n                  ],\n                });\n              }\n            }\n          );\n      })\n      .catch((err) => {\n        confirmAlert({\n          title: \"Error!\",\n          message: err.message,\n          buttons: [\n            {\n              label: \"Back\",\n            },\n          ],\n        });\n      }); */\n  };\n\n  if (isloading) {\n    return (\n      <div className=\"fp-container\">\n        <div className=\"fp-loader\">\n          <ClipLoader size={100} />\n          <p style={{ fontWeight: \"600\", fontSize: \"18px\" }}>Almost There...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <section\n        className=\"inner-page-banner-section gradient-bg\"\n        style={{ paddingTop: \"150px\" }}\n      >\n        <div className=\"illustration-img\">\n          <img\n            src=\"assets/images/elements/home4-banner-shape.png\"\n            alt=\"image-illustration\"\n          />\n        </div>\n\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content bdr-radius\">\n            <div className=\"signin-wrapper\">\n              <div className=\"signin-wrapper-header text-center\">\n                <div className=\"logo\">\n                  <img src=\"assets/images/elements/logo-icon.png\" alt=\"image\" />\n                </div>\n                <h3 className=\"title\">Join Now</h3>\n              </div>\n              <Formik\n                initialValues={{\n                  firstName: \"\",\n                  lastName: \"\",\n                  email: \"\",\n                  phone: \"\",\n                  password: \"\",\n                }}\n                validate={(values) => {\n                  const errors = {};\n                  if (!values.email) {\n                    errors.email = \"Email Address Required\";\n                  } else if (\n                    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(\n                      values.email\n                    )\n                  ) {\n                    errors.email = \"Invalid email address\";\n                  } else if (!values.firstName) {\n                    errors.firstName = \"First Name is Required\";\n                  } else if (!values.lastName) {\n                    errors.lastName = \"Last Name is Required\";\n                  } else if (!values.password) {\n                    errors.password = \"Password is Required\";\n                  }\n                  return errors;\n                }}\n                onSubmit={(values, actions) => {\n                  CreateUserHandler(\n                    values.firstName,\n                    values.lastName,\n                    values.email.toLowerCase(),\n                    values.phone,\n                    values.password\n                  );\n                  actions.resetForm();\n                }}\n                validationSchema={validationSchema}\n              >\n                {({\n                  handleChange,\n                  handleSubmit,\n                  values,\n                  errors,\n                  touched,\n                  isSubmitting,\n                  handleBlur,\n                }) => (\n                  <form className=\"signin-form\" onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                      <label for=\"firstName\">First Name*</label>\n                      <input\n                        type=\"text\"\n                        name=\"firstName\"\n                        className=\"form-control\"\n                        placeholder=\"First Name\"\n                        onBlur={handleBlur}\n                        value={values.firstName}\n                        onChange={handleChange}\n                      />\n                      <p\n                        style={{\n                          color: \"red\",\n                          fontSize: \"12px\",\n                          fontWeight: \"bold\",\n                        }}\n                      >\n                        {errors.firstName &&\n                          touched.firstName &&\n                          errors.firstName}\n                      </p>\n                    </div>\n                    <div className=\"form-group\">\n                      <label for=\"lastName\">Last Name</label>\n                      <input\n                        type=\"text\"\n                        name=\"lastName\"\n                        className=\"form-control\"\n                        placeholder=\"Last Name\"\n                        onBlur={handleBlur}\n                        value={values.lastName}\n                        onChange={handleChange}\n                      />\n                      <p\n                        style={{\n                          color: \"red\",\n                          fontSize: \"12px\",\n                          fontWeight: \"bold\",\n                        }}\n                      >\n                        {errors.lastName && touched.lastName && errors.lastName}\n                      </p>\n                    </div>\n                    <div className=\"form-group\">\n                      <label for=\"signinEmail\">Email*</label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        className=\"form-control\"\n                        placeholder=\"Email\"\n                        onBlur={handleBlur}\n                        value={values.email}\n                        onChange={handleChange}\n                      />\n                      <p\n                        style={{\n                          color: \"red\",\n                          fontSize: \"12px\",\n                          fontWeight: \"bold\",\n                        }}\n                      >\n                        {errors.email && touched.email && errors.email}\n                      </p>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label for=\"Phone\">Phone</label>\n                      <input\n                        type=\"text\"\n                        name=\"phone\"\n                        className=\"form-control\"\n                        placeholder=\"Phone Number (Optional)\"\n                        value={values.phone}\n                        onChange={handleChange}\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label for=\"signinPass\">Password*</label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Password\"\n                        onBlur={handleBlur}\n                        value={values.password}\n                        onChange={handleChange}\n                      />\n                      <p\n                        style={{\n                          color: \"red\",\n                          fontSize: \"12px\",\n                          fontWeight: \"bold\",\n                        }}\n                      >\n                        {errors.password && touched.password && errors.password}\n                      </p>\n                    </div>\n\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary btn-hover\"\n                      disabled={isSubmitting}\n                    >\n                      Sign Up\n                    </button>\n                  </form>\n                )}\n              </Formik>\n\n              <div className=\"signin-wrapper-footer\">\n                <p className=\"bottom-text\">\n                  Already have an account? <a href=\"/login\">Login Now</a>\n                </p>\n                <div className=\"divider\">\n                  <span>or Use</span>\n                </div>\n                <ul className=\"social-list\">\n                  <li>\n                    <a href=\"#0\">\n                      <i className=\"fa fa-google\"></i>\n                    </a>\n                  </li>\n\n                  <li>\n                    <a href=\"#0\">\n                      <i className=\"fa fa-linkedin\"></i>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}